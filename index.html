<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>íœì‹± ëŒ€ì§„í‘œ ìë™ ìƒì„±ê¸°</title>
    <style>
        body { 
            font-family: sans-serif; 
            margin: 40px; 
            background: #2196f3; /* íŒŒë€ìƒ‰ ë°°ê²½ */
            color: #fff;
        }
        input { margin: 5px; padding: 5px; border-radius: 4px; border: none;}
        label { margin-right: 10px; }
        table, th, td { border: 1px solid #fff; border-collapse: collapse; padding: 6px; }
        th { background: #1976d2; }
        td { background: #42a5f5; }
        .form-area { background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-bottom: 20px;}
        button { background: #1976d2; color: #fff; border: none; padding: 8px 16px; border-radius: 5px; cursor: pointer;}
        button:hover { background: #1565c0; }
        .cheer { margin-top: 30px; font-size: 1.3em; font-weight: bold; text-align: center; }
    </style>
</head>
<body>
    <h2>íœì‹±í´ëŸ½ ëŒ€ì§„í‘œ ìë™ ìƒì„±ê¸°</h2>
    <form id="nameForm" class="form-area">
        <p>8ëª…ì˜ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:</p>
        <div id="inputs"></div>
        <button type="submit">ëŒ€ì§„í‘œ ìƒì„±</button>
    </form>
    <div id="result"></div>
    <div class="cheer" id="cheer"></div>
    <script>
        // ì…ë ¥ì°½ 8ê°œ ìƒì„± (íœì„œ1, íœì„œ2 ...)
        const inputsDiv = document.getElementById('inputs');
        for(let i=0; i<8; i++) {
            inputsDiv.innerHTML += `<label>íœì„œ${i+1} <input type="text" required placeholder="ì´ë¦„${i+1}" id="name${i}"></label><br>`;
        }

        document.getElementById('nameForm').onsubmit = function(e) {
            e.preventDefault();
            // ì´ë¦„ ìˆ˜ì§‘
            let names = [];
            for(let i=0; i<8; i++) {
                let val = document.getElementById('name'+i).value.trim();
                if(!val) { alert("ëª¨ë“  ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”!"); return; }
                names.push(val);
            }
            // ëª¨ë“  ì¡°í•© ìƒì„±
            let matches = [];
            for(let i=0; i<8; i++) {
                for(let j=i+1; j<8; j++) {
                    matches.push([names[i], names[j]]);
                }
            }
            // ë¼ìš´ë“œë¡œ ìŠ¤ì¼€ì¤„ë§ (í•œ ë¼ìš´ë“œì— ìµœëŒ€ 3ê²½ê¸°)
            let rounds = [];
            while(matches.length > 0) {
                let round = [];
                let used = new Set();
                for(let k=0; k<matches.length; k++) {
                    let [a, b] = matches[k];
                    if(!used.has(a) && !used.has(b) && round.length < 3) {
                        round.push(matches[k]);
                        used.add(a); used.add(b);
                        matches.splice(k, 1); k--;
                    }
                }
                rounds.push(round);
            }
            // ê²°ê³¼ ì¶œë ¥
            let html = `<h3>ëŒ€ì§„í‘œ ë° ê²½ê¸° ì‹œê°„í‘œ</h3>`;
            html += `<table><tr><th>ë¼ìš´ë“œ</th><th>ê²½ê¸°</th></tr>`;
            rounds.forEach((round, idx) => {
                html += `<tr><td>ë¼ìš´ë“œ ${idx+1}<br>(${3*(idx)}~${3*(idx+1)}ë¶„)</td><td>`;
                round.forEach(match => {
                    html += `${match[0]} vs ${match[1]}<br>`;
                });
                html += `</td></tr>`;
            });
            html += `</table>`;
            html += `<p>ì´ ê²½ê¸° ì‹œê°„: <b>${rounds.length * 3}ë¶„</b> (ë¼ìš´ë“œë‹¹ 3ë¶„, ìµœëŒ€ 3ê²½ê¸° ë™ì‹œ ì§„í–‰)</p>`;
            document.getElementById('result').innerHTML = html;

            // ì‘ì› ë¬¸êµ¬ ì¶œë ¥
            document.getElementById('cheer').innerText = "ëª¨ë‘ íŒŒì´íŒ…! ë©‹ì§„ ê²½ê¸°ë¥¼ ê¸°ëŒ€í•©ë‹ˆë‹¤! âš”ï¸ğŸ¤º";
        }
    </script>
</body>
</html>